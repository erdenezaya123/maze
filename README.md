# 迷宫生成与路径可视化工具需求文档

迭代记录

<table><tr><td>日期</td><td>修订版本</td><td>修改描述</td><td>作者</td></tr><tr><td>2025.05.19</td><td>1.0</td><td>确定主要功能</td><td>穆志舒</td></tr><tr><td>2025.05.20</td><td>2.0</td><td>确定实现细节（如使用的算法和依赖）</td><td>穆志舒</td></tr></table>

# 1. 项目概述

本项目是一个交互式的迷宫生成与路径可视化工具，使用Python和Pygame库实现。该工具能够：

随机生成不同大小的迷宫

- 自动寻找从起点到终点的路径
- 提供多种可视化选项（轮廓、拓扑图、中心线等）
- 支持保存迷宫数据、图像和导航视频

# 2. 功能需求

# 2.1核心功能

# - 迷宫生成:

- 使用随机Prim算法生成迷宫结构
  
- 支持自定义迷宫行数和列数 (5-50)
  
- 墙壁（灰色）通道（白色）
  
- 自动标记起点(蓝色)和终点(红色)
  

# - 路径查找：

- 自动寻找从起点到终点的路径
  
- 使用回溯算法确保找到有效路径
  
- 路径可视化显示(绿色)
  

# - 可视化选项：

- 显示/隐藏迷宫轮廓(蓝色线条)
  
- 显示/隐藏拓扑结构图(粉色节点和蓝色边)
  
- 显示/隐藏通道中心线(橙色点)
  
- 显示/隐藏路径(绿色填充)
  

# 2.2 用户交互

# - 参数调整：

- 滑块控件调整迷宫行数和列数
  
- 实时预览参数变化
  

# 控制按钮：

- 生成迷宫按钮：根据当前参数重新生成迷宫
  
- 暂停/继续按钮：控制迷宫生成过程
  
- 各种显示/隐藏切换按钮
  

# - 保存功能：

- 保存路径坐标到CSV文件
  
- 保存迷宫轮廓图为PNG
  
- 保存拓扑结构图为PNG
  
- 保存路径生成过程为MP4视频
  

# 2.3 界面设计

- 主窗口分为控制面板(左侧)和迷宫显示区(右侧)
- 响应式设计，支持窗口大小调整
- 按钮悬停效果和状态反馈
- 实时显示生成状态和操作结果
- 原型图：

![](https://cdn-mineru.openxlab.org.cn/result/2025-10-29/645d10b8-d0f5-4bc6-9388-d88b077a4cf8/719922b3fab6bf9706b923cfe8d66ddf002303b208ed853fe2565c350cd43c5b.jpg)

# 3. 技术实现

# 3.1 关键算法

- 迷宫生成算法：
- 基于随机Prim算法
- 维护待选节点列表和随机选择过程

- 路径查找算法：
  - 使用深度优先搜索(DFS)变体
  - 支持回溯机制确保找到路径

- 拓扑分析：
  - 计算通道中心线点
  - 构建图结构表示拓扑关系

# 3.2 依赖库

- Pygame: 图形界面和交互  
  NetworkX：拓扑图生成和分析
- Matplotlib：拓扑图绘制  
  imageio: 视频生成

# 附录：颜色编码说明

- 白色：通道
- 灰色：墙壁
- 蓝色：起点
- 红色：终点
- 绿色：路径
- 橙色：中心线点
- 粉色：拓扑节点
- 蓝色：拓扑边和轮廓线
